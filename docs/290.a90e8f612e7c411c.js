"use strict";(self.webpackChunkuser=self.webpackChunkuser||[]).push([[290],{5290:(st,g,c)=>{c.r(g),c.d(g,{TransactionAccountModule:()=>at});var m=c(6895),h=c(9299),x=c(7974),s=c(671),_=c(5976),u=c(5793),t=c(4650),A=c(278),T=c(7185),Z=c(5938),d=c(4006),b=c(4859),C=c(9549),v=c(4144),p=c(9602),y=c(6308),M=c(9241);const D=["start"],L=["end"],w=["name"],U=["type"];function N(e,o){if(1&e&&t._UZ(0,"app-ddl-searchable",43,44),2&e){const n=t.oxw();t.Q6J("objData",n.statusObj)}}function O(e,o){1&e&&(t.TgZ(0,"th",45),t._uU(1," Index "),t.qZA())}function S(e,o){if(1&e&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&e){const n=o.index;t.xp6(1),t.hij("",n+1," ")}}function k(e,o){1&e&&(t.TgZ(0,"td",47),t._uU(1,"Sum"),t.qZA())}function Y(e,o){1&e&&(t.TgZ(0,"th",45),t._uU(1,"Receipt Number "),t.qZA())}function R(e,o){if(1&e&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.receiptNumber," ")}}function P(e,o){1&e&&t._UZ(0,"td",47)}function Q(e,o){1&e&&(t.TgZ(0,"th",45),t._uU(1,"Amount "),t.qZA())}function j(e,o){if(1&e&&(t.TgZ(0,"td",46),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,n.amount," AED ")," ")}}function J(e,o){if(1&e&&(t.TgZ(0,"td",47),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Oqu(t.xi3(2,1,n.sumAmount," AED "))}}function E(e,o){1&e&&(t.TgZ(0,"th",45),t._uU(1,"Type "),t.qZA())}function G(e,o){if(1&e&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.type," ")}}function H(e,o){1&e&&t._UZ(0,"td",47)}function q(e,o){1&e&&(t.TgZ(0,"th",45),t._uU(1," Date"),t.qZA())}function B(e,o){if(1&e&&(t.TgZ(0,"td",46),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,n.createdAt)," ")}}function I(e,o){1&e&&t._UZ(0,"td",47)}function z(e,o){1&e&&(t.TgZ(0,"th",45),t._uU(1," Action "),t.qZA()),2&e&&t.uIk("rowspan",2)}function F(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"td",48)(1,"button",49),t.NdJ("click",function(a){const r=t.CHM(n).$implicit,f=t.oxw();return t.KtG(f.updateTransactionAccount(a,r))}),t._uU(2,"Update"),t.qZA(),t.TgZ(3,"button",50),t.NdJ("click",function(){const l=t.CHM(n).$implicit,r=t.oxw();return t.KtG(r.deleteTransactionAccount(l.id))}),t._uU(4,"Delete"),t.qZA()()}}function K(e,o){1&e&&t._UZ(0,"td",47)}function W(e,o){1&e&&t._UZ(0,"tr",51)}function $(e,o){1&e&&t._UZ(0,"tr",52)}function X(e,o){1&e&&t._UZ(0,"tr",53)}const V=function(){return[5,10,20]},tt=[{path:"",redirectTo:"List",pathMatch:"full"},{path:"List",component:(()=>{class e{constructor(n,i,a){this._TransactionAccountService=n,this.toaster=i,this.dialog=a,this.displayedColumns=["index","type","receiptNumber","amount","createdAt"],this.minDate=new Date(1990,0,1),this.statusObj={staticArray:[{id:"supply",name:" Supply"},{id:"expenses",name:"Expenses"}],placeholder:"\u0627\u0644\u062d\u0627\u0644\u0629 ",placeholderEn:"Type",required:!1,searachable:!1,multiSelect:!1},this.sumAmount=0,this.filter={},this.getAllTransactionAccount()}ngOnInit(){}makeValidationMax(n){console.log("test",n),this.minDate=new Date(n)}getAllTransactionAccount(n){console.log("filter = ",n),this._TransactionAccountService.getAllTransactionAccount(n).subscribe({next:i=>{console.log(i.result.sum.rows[0]?.amount),console.log(i),this.dataSource=new s.by(i.result.transactionAccount.rows),this.sumAmount=i.result.sum.rows[0]?.amount||0,this.dataSource.paginator=this.paginator,this.toaster.success("success get Expenses and supply","success")}})}addTransactionAccount(){this.dialog.open(u.D,{width:"60%",disableClose:!0}).afterClosed().subscribe(i=>{this.getAllTransactionAccount()})}search(n,i,a){console.log(this.type.gettingResult()),this.type.gettingResult()?.id&&(this.filter.type=this.type.gettingResult()?.id),i||a||this.type.gettingResult()?.id?(i&&(this.filter.startedDate=new Date(i.split("-").reverse().join("-")).toISOString()),a&&(this.filter.endDate=new Date(a.split("-").reverse().join("-")).toISOString()),this.getAllTransactionAccount(this.filter)):this.toaster.info("please select search criteria","Info")}resetSearch(){this.start.nativeElement.value=null,this.end.nativeElement.value=null,this.type.resetList(),this.filter={},this.getAllTransactionAccount()}updateTransactionAccount(n,i){this.dialog.open(u.D,{width:"60%",disableClose:!0,data:i}).afterClosed().subscribe(l=>{this.getAllTransactionAccount()})}deleteTransactionAccount(n){this.dialog.open(_.P,{width:"750px",disableClose:!0,data:{message:"Are You Sure to Delete ? "}}).afterClosed().subscribe(a=>{"no"!==a?this._TransactionAccountService.deleteTransactionAccount(n).subscribe({next:()=>{this.toaster.success("Supply and Expenses Deleted Succesfully","Success"),this.getAllTransactionAccount()}}):this.toaster.warning("Supply and Expenses not deleted","Warning")})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(A.A),t.Y36(T._W),t.Y36(Z.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-list"]],viewQuery:function(n,i){if(1&n&&(t.Gf(x.NW,5),t.Gf(D,5),t.Gf(L,5),t.Gf(w,5),t.Gf(U,5)),2&n){let a;t.iGM(a=t.CRH())&&(i.paginator=a.first),t.iGM(a=t.CRH())&&(i.start=a.first),t.iGM(a=t.CRH())&&(i.end=a.first),t.iGM(a=t.CRH())&&(i.name=a.first),t.iGM(a=t.CRH())&&(i.type=a.first)}},decls:69,vars:12,consts:[[1,"m-4"],[1,"d-flex","justify-content-end","align-items-center","mx-auto","my-3"],["mat-raised-button","",1,"addService",2,"margin-right","9%",3,"click"],[1,"d-flex","justify-content-center","p-2","m-2"],[1,"border","p-2","m-2",2,"background-color","rgb(255, 254, 254)","border-radius","30px"],[1,"text-info","font-weight-bolder",2,"font-size","22px","padding-left","20px"],[1,"row","m-2"],[1,"col-md-4","mt-lg-2"],["appearance","outline",1,"w-100","p-0","m-0"],[1,"d-flex","w-100"],["matInput","",3,"matDatepicker","dateChange"],["start",""],["matIconSuffix","",3,"for"],["pickerstart",""],["appearance","outline",1,"w-100"],[1,"d-flex"],["matInput","",3,"min","matDatepicker"],["end",""],["pickerEnd",""],[1,"col-md-4",2,"margin-top","12px"],[3,"objData",4,"ngIf"],[1,"col-md-12","mt-4"],[1,"btns","d-flex","justify-content-end","align-items-end"],[1,"btn",2,"background","#1746A2",3,"click"],[1,"btn",2,"background-color","#ffb64d",3,"click"],[1,""],[1,"parennt","shadow","m-auto",2,"width","82%"],["mat-table","","matSort","",1,"text-center",3,"dataSource"],["matColumnDef","index"],["class","text-center","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","receiptNumber"],["matColumnDef","amount"],["matColumnDef","type"],["matColumnDef","createdAt"],["matColumnDef","action"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],[1,"d-flex","justify-content-center"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[3,"objData"],["type",""],["mat-header-cell","",1,"text-center"],["mat-cell",""],["mat-footer-cell",""],["mat-cell","",1,"action-link"],[1,"btn","btn-info","mx-2",3,"click"],[1,"btn","btn-danger","mx-2",3,"click"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(n,i){if(1&n){const a=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t.NdJ("click",function(){return i.addTransactionAccount()}),t._uU(3,"Add Supply/Expenses"),t.qZA()(),t.TgZ(4,"div",3)(5,"form",4)(6,"h3",5),t._uU(7,"Search"),t.qZA(),t.TgZ(8,"div",6)(9,"div",7)(10,"mat-form-field",8)(11,"mat-label"),t._uU(12,"Choose a Start Date"),t.qZA(),t.TgZ(13,"div",9)(14,"input",10,11),t.NdJ("dateChange",function(){t.CHM(a);const r=t.MAs(15);return t.KtG(i.makeValidationMax(r.value))}),t.qZA(),t._UZ(16,"mat-datepicker-toggle",12),t.qZA(),t._UZ(17,"mat-datepicker",null,13),t.qZA()(),t.TgZ(19,"div",7)(20,"mat-form-field",14)(21,"mat-label"),t._uU(22,"Choose a End date"),t.qZA(),t.TgZ(23,"div",15),t._UZ(24,"input",16,17)(26,"mat-datepicker-toggle",12),t.qZA(),t._UZ(27,"mat-datepicker",null,18),t.qZA()(),t.TgZ(29,"div",19),t.YNc(30,N,2,1,"app-ddl-searchable",20),t.qZA(),t.TgZ(31,"div",21)(32,"div",22)(33,"button",23),t.NdJ("click",function(r){t.CHM(a);const f=t.MAs(15),ct=t.MAs(25);return t.KtG(i.search(r,f.value,ct.value))}),t._uU(34,"Search"),t.qZA(),t.TgZ(35,"button",24),t.NdJ("click",function(){return i.resetSearch()}),t._uU(36,"Reset"),t.qZA()()()()()(),t.TgZ(37,"div",25)(38,"div",26)(39,"table",27),t.ynx(40,28),t.YNc(41,O,2,0,"th",29),t.YNc(42,S,2,1,"td",30),t.YNc(43,k,2,0,"td",31),t.BQk(),t.ynx(44,32),t.YNc(45,Y,2,0,"th",29),t.YNc(46,R,2,1,"td",30),t.YNc(47,P,1,0,"td",31),t.BQk(),t.ynx(48,33),t.YNc(49,Q,2,0,"th",29),t.YNc(50,j,3,4,"td",30),t.YNc(51,J,3,4,"td",31),t.BQk(),t.ynx(52,34),t.YNc(53,E,2,0,"th",29),t.YNc(54,G,2,1,"td",30),t.YNc(55,H,1,0,"td",31),t.BQk(),t.ynx(56,35),t.YNc(57,q,2,0,"th",29),t.YNc(58,B,3,3,"td",30),t.YNc(59,I,1,0,"td",31),t.BQk(),t.ynx(60,36),t.YNc(61,z,2,1,"th",29),t.YNc(62,F,5,0,"td",37),t.YNc(63,K,1,0,"td",31),t.BQk(),t.YNc(64,W,1,0,"tr",38),t.YNc(65,$,1,0,"tr",39),t.YNc(66,X,1,0,"tr",40),t.qZA(),t.TgZ(67,"div",41),t._UZ(68,"mat-paginator",42),t.qZA()()()()}if(2&n){const a=t.MAs(18),l=t.MAs(28);t.xp6(14),t.Q6J("matDatepicker",a),t.xp6(2),t.Q6J("for",a),t.xp6(8),t.Q6J("min",i.minDate)("matDatepicker",l),t.xp6(2),t.Q6J("for",l),t.xp6(4),t.Q6J("ngIf",i.statusObj),t.xp6(9),t.Q6J("dataSource",i.dataSource),t.xp6(25),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("matFooterRowDef",i.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(11,V))}},dependencies:[m.O5,d._Y,d.JL,b.lW,C.KE,C.hX,v.Nt,p.Mq,p.hl,p.nW,y.YE,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.mD,s.Ke,s.ge,s.ev,s.yh,s.XQ,s.Gk,s.Q2,x.NW,M.g,d.F,m.H9,m.uU],styles:["button[_ngcontent-%COMP%]{color:#fff;margin:0 5px}button.addService[_ngcontent-%COMP%]{background-color:#2878f0!important;color:#fff;padding:2px 23px;font-size:20px}table[_ngcontent-%COMP%]{width:100%;margin:20px auto}[_nghost-%COMP%]     table thead{background-color:#7e807e!important}[_nghost-%COMP%]     table thead .mat-header-cell{color:#fff}button[_ngcontent-%COMP%]{transition:all .4s;border-radius:13px}button[_ngcontent-%COMP%]:hover{border-radius:30px}th[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.active[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%;background-color:#00ff00e6}.disactive[_ngcontent-%COMP%]{width:20px;height:20px;background-color:#ff0000e6}form[_ngcontent-%COMP%]{width:82%;margin:auto}@media only screen and (max-width: 993px){bottom[_ngcontent-%COMP%]{margin:5px}form[_ngcontent-%COMP%]{width:90%}}.mat-elevation-z8[_ngcontent-%COMP%]{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.mat-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{padding:0!important}[_nghost-%COMP%]     .mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0}[_nghost-%COMP%]     .mat-form-field-infix{padding:0!important}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;inset:.25em 0 0;pointer-events:none;height:53px}[_nghost-%COMP%]   input.mat-input-element[_ngcontent-%COMP%]{margin-top:.9375em}.mat-row[_ngcontent-%COMP%]:hover   .mat-cell[_ngcontent-%COMP%]{background-color:#fff5a2}tr.mat-footer-row[_ngcontent-%COMP%]{background-color:#f5f5f5;font-weight:700}"]}),e})()},{path:"Add",component:u.D}];let et=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[h.Bz.forChild(tt),h.Bz]}),e})();var nt=c(1941),ot=c(2575),it=c(259);let at=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.ez,et,d.UX,nt.q,ot.I,it.m,d.u5]}),e})()}}]);