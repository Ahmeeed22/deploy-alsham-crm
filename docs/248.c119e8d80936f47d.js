"use strict";(self.webpackChunkuser=self.webpackChunkuser||[]).push([[248],{248:(J,m,r)=>{r.r(m),r.d(m,{OwnersModule:()=>F});var d=r(6895),u=r(9299),i=r(4006),t=r(4650),p=r(5938),g=r(4952),O=r(5076),f=r(7185),v=r(3238),h=r(4859),x=r(7392),c=r(9549),C=r(4144),A=r(4385);function Z(n,a){if(1&n&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function b(n,a){if(1&n&&(t.TgZ(0,"mat-form-field",7)(1,"mat-label"),t._uU(2,"Select Banks"),t.qZA(),t.TgZ(3,"mat-select",17),t.YNc(4,Z,2,2,"mat-option",18),t.qZA()()),2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.banks)}}function T(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"required"),t.qZA())}function M(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"must greater than 10"),t.qZA())}let w=(()=>{class n{constructor(e,o,s,l){this.dialog=e,this._OwnerService=o,this._TransactionsService=s,this.toaster=l,this.ownerFormGroup=new i.cw({desc:new i.NI("",[i.kI.required]),amount:new i.NI(0,[i.kI.required]),type:new i.NI("",[i.kI.required]),accountId:new i.NI("")}),this.banks=[],this.getAllBanksAccounts()}ngOnInit(){}getAllBanksAccounts(){this._TransactionsService.getAllBankAccount().subscribe({next:e=>{console.log(e),this.banks=e.result.rows,this.toaster.success("Success Getting Banks Statements","Success")},error:e=>{console.log(e),this.toaster.error("faild  Getting Banks Statements","Error")}})}save(e){this.ownerFormGroup.valid?this._OwnerService.createOwner(e).subscribe({next:o=>{console.log(o),this.toaster.success("Owner added success ","Created Success"),this.dialog.close(!0)},error:o=>{console.log(o),this.toaster.error(o,"failed add")}}):this.toaster.warning("please enter valid data","Required Data")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.so),t.Y36(g.T),t.Y36(O.v),t.Y36(f._W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-owner"]],decls:31,vars:4,consts:[[1,"container"],[1,"d-flex","justify-content-between"],["mat-flat-button","",1,"text-danger"],[3,"click"],[1,"row"],[1,"col-12","pt-3"],[3,"formGroup","ngSubmit"],["appearance","outline",1,"w-100"],["formControlName","type","placeholder","Owner"],["value","drowing"],["value","invest"],["appearance","outline","class","w-100 ",4,"ngIf"],["appearance","outline",1,"w-100","position-relative"],["matInput","","type","number","formControlName","amount","placeholder","Amount","spellcheck","true","required",""],[4,"ngIf"],["matInput","","formControlName","desc","placeholder","Description "],["type","submit",1,"btn","btn-primary"],["formControlName","accountId","placeholder","Bank"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"header",1)(2,"h1"),t._uU(3,"Add Owner Statement"),t.qZA(),t.TgZ(4,"button",2)(5,"mat-icon",3),t.NdJ("click",function(){return o.dialog.close(!0)}),t._uU(6,"close"),t.qZA()()(),t.TgZ(7,"div",4)(8,"div",5)(9,"form",6),t.NdJ("ngSubmit",function(){return o.save(o.ownerFormGroup.value)}),t.TgZ(10,"mat-form-field",7)(11,"mat-label"),t._uU(12,"Select Type"),t.qZA(),t.TgZ(13,"mat-select",8)(14,"mat-option",9),t._uU(15," Drowing "),t.qZA(),t.TgZ(16,"mat-option",10),t._uU(17," Invest "),t.qZA()()(),t.YNc(18,b,5,1,"mat-form-field",11),t.TgZ(19,"mat-form-field",12)(20,"mat-label"),t._uU(21,"Amount"),t.qZA(),t._UZ(22,"input",13),t.YNc(23,T,2,0,"mat-error",14),t.YNc(24,M,2,0,"mat-error",14),t.qZA(),t.TgZ(25,"mat-form-field",12)(26,"mat-label"),t._uU(27,"Description"),t.qZA(),t._UZ(28,"input",15),t.qZA(),t.TgZ(29,"button",16),t._uU(30,"Create"),t.qZA()()()()()),2&e){let s,l;t.xp6(9),t.Q6J("formGroup",o.ownerFormGroup),t.xp6(9),t.Q6J("ngIf",o.banks.length),t.xp6(5),t.Q6J("ngIf",(null==(s=o.ownerFormGroup.get("amount"))?null:s.touched)&&(null==(s=o.ownerFormGroup.get("amount"))?null:s.hasError("required"))),t.xp6(1),t.Q6J("ngIf",(null==(l=o.ownerFormGroup.get("amount"))?null:l.touched)&&(null==(l=o.ownerFormGroup.get("amount"))?null:l.hasError("min")))}},dependencies:[d.sg,d.O5,v.ey,h.lW,x.Hw,c.TO,c.KE,c.hX,C.Nt,A.gD,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.Q7,i.sg,i.u]}),n})();var _=r(9298);function y(n,a){if(1&n&&(t.TgZ(0,"tr",9)(1,"td",10),t._uU(2),t.qZA(),t.TgZ(3,"td",10),t._uU(4),t.qZA(),t.TgZ(5,"td",10),t._uU(6),t.qZA(),t.TgZ(7,"td",10),t._uU(8),t.qZA(),t.TgZ(9,"td",10),t._uU(10),t.ALo(11,"date"),t.qZA()()),2&n){const e=a.$implicit,o=a.index;t.xp6(2),t.Oqu(1+o),t.xp6(2),t.Oqu(e.desc||"--"),t.xp6(2),t.Oqu("drowing"==e.type?e.amount:"--"),t.xp6(2),t.Oqu("invest"==e.type?e.amount:"--"),t.xp6(2),t.hij(" ",t.xi3(11,5,e.createdAt,"yyyy-MM-dd HH:mm:ss"),"")}}const S=[{path:"",redirectTo:"List",pathMatch:"full"},{path:"List",component:(()=>{class n{constructor(e,o,s,l){this._OwnerService=e,this.toaster=o,this.dialog=s,this.authService=l,this.dataSource=[],this.role=0,this.authService.currentUser.subscribe(G=>{var N=this.authService.currentUser.getValue();this.role=N.role})}ngOnInit(){this.getAllOwners()}getAllOwners(){this._OwnerService.getAllOwners().subscribe({next:e=>{this.dataSource=e.result.ownersTransactions.rows,console.log(e),this.toaster.success("Success Getting Owners Statements","Success")},error:e=>{this.toaster.error("faild  Getting Owners Statements","Error")}})}addownerstatement(){this.dialog.open(w,{width:"60%",disableClose:!0}).afterClosed().subscribe(o=>{this.getAllOwners()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.T),t.Y36(f._W),t.Y36(p.uw),t.Y36(_.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-list-owner"]],decls:22,vars:2,consts:[[1,"container"],[1,"row"],[1,"top","mt-5","mb-3","w-100","d-flex","justify-content-end","align-items-end"],[1,"addStatement"],["mat-raised-button","",1,"addTask",3,"disabled","click"],[1,"table"],[1,"table","table-hover"],[1,"text-center","text-white","text-light"],["class","text-center hover","style","text-align: center;",4,"ngFor","ngForOf"],[1,"text-center","hover",2,"text-align","center"],[2,"text-align","center"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return o.addownerstatement()}),t._uU(5,"Add Owners Statement"),t.qZA()()(),t.TgZ(6,"div",5)(7,"table",6)(8,"thead")(9,"tr",7)(10,"th"),t._uU(11,"Index"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Description"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"DR"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"CR"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Date"),t.qZA()()(),t.TgZ(20,"tbody"),t.YNc(21,y,12,8,"tr",8),t.qZA()()()()()),2&e&&(t.xp6(4),t.Q6J("disabled",3!==o.role),t.xp6(17),t.Q6J("ngForOf",o.dataSource))},dependencies:[d.sg,h.lW,d.uU],styles:["button[_ngcontent-%COMP%]{color:#fff;margin:0 5px}button.addTask[_ngcontent-%COMP%]{background-color:#63e38a!important;color:#fff;padding:2px 23px;font-size:20px}[_nghost-%COMP%]     table thead{background-color:#7e807e!important}[_nghost-%COMP%]     table thead .mat-header-cell{color:#fff}button[_ngcontent-%COMP%]{transition:all .4s;border-radius:13px}button[_ngcontent-%COMP%]:hover{border-radius:30px}.hhover[_ngcontent-%COMP%]:hover{color:#fff!important}th[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.mat-elevation-z8[_ngcontent-%COMP%]{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.mat-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{padding:0!important}[_nghost-%COMP%]     .mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:141px}[_nghost-%COMP%]     .mat-form-field-label-wrapper{position:absolute;left:12px;z-index:1000;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[_nghost-%COMP%]     input.mat-input-element{margin-top:-.0625em;height:38px}[_nghost-%COMP%]     .mat-form-field-infix{padding:0!important}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;inset:.25em 0 0;pointer-events:none;height:53px}@media only screen and (max-width: 768px){.ddl[_ngcontent-%COMP%]{margin:8.3px 0}.search[_ngcontent-%COMP%]{padding:18px 22px;margin:12px}}@media print{.atPrint[_ngcontent-%COMP%]{display:none!important}.listBox[_ngcontent-%COMP%]{height:100vh;width:90vw}.headinvoice[_ngcontent-%COMP%]{display:block}}.hover[_ngcontent-%COMP%]:hover{background-color:#fff5a2}.supplierSelection[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:10px;font-size:1.5rem}.mat-form-field[_ngcontent-%COMP%]{width:100%}.mat-label[_ngcontent-%COMP%]{font-size:1rem}.mat-select[_ngcontent-%COMP%]{width:100%;font-size:1rem}[_nghost-%COMP%]     .mat-form-field-infix{display:block;position:relative;flex:auto;top:15px;min-width:0;width:179px;height:51px}[_nghost-%COMP%]     .mat-form-field-label-wrapper{position:absolute;left:12px;top:-26px;z-index:1000;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}"]}),n})()},{path:"Add",component:w}];let P=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[u.Bz.forChild(S),u.Bz]}),n})();var U=r(1941),I=r(2575),q=r(805);let F=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez,P,U.q,I.I,q.m8,i.u5,i.UX]}),n})()}}]);