"use strict";(self.webpackChunkuser=self.webpackChunkuser||[]).push([[197],{5197:(T,p,o)=>{o.r(p),o.d(p,{BalanceSheatModule:()=>O});var r=o(6895),h=o(9299),u=o(4004),l=o(262),m=o(9646),c=o(4128),t=o(4650),d=o(9325),g=o(6e3),f=o(9298),A=o(4952),Z=o(5076);function C(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td",22),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"currency"),t.qZA()()),2&n){const s=i.$implicit;t.xp6(2),t.Oqu(s.name),t.xp6(2),t.Oqu(t.xi3(5,2,s.balance," AED "))}}function b(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td",10),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"currency"),t.qZA()()),2&n){const s=i.$implicit;t.xp6(2),t.Oqu(s.name),t.xp6(2),t.Oqu(t.xi3(5,2,s.balance," AED "))}}const S=[{path:"",component:(()=>{class n{constructor(s,e,a,v,B){this._BanksService=s,this._SppliersService=e,this._AuthService=a,this._OwnerService=v,this._TransactionsService=B,this.banks=[],this.suppliers=[],this.sumDeposit=0,this.sumBalance=0,this.sumCommission=0,this.sumCommissionPaied=0,this.sumCapital=0,this.sumDrawing=0,this.totalProfie=0,this.assets=0,this.expenses=0,this.cash=0,this.paymentAmount=0,this.sumBanksBalance=0,this.sumBalanceSupplier=0,this.total_price_without_profite=0,this.getSumBalance()}calculateCash(){this.cash=this.paymentAmount+this.sumDeposit+this.sumCapital-this.sumDrawing-this.expenses-this.total_price_without_profite-this.sumBalanceSupplier-this.sumBanksBalance}getAllbanks(){return this._BanksService.getAllBanks().pipe((0,u.U)(s=>{this.banks=s.result.rows;for(let e=0;e<this.banks.length;e++)this.sumBanksBalance+=this.banks[e].balance;return this.sumBanksBalance}),(0,l.K)(s=>(console.log(s),(0,m.of)(0))))}getAllSuppliers(){return this._SppliersService.getAllSuppliers().pipe((0,u.U)(s=>{this.suppliers=s.result.rows;for(let e=0;e<this.suppliers.length;e++)this.sumBalanceSupplier+=this.suppliers[e].balance;return this.sumBalanceSupplier}),(0,l.K)(s=>(console.log(s),(0,m.of)(0))))}calculateAssets(){(0,c.D)([this.getAllbanks(),this.getAllSuppliers(),this.getSumDeposites()]).subscribe(([s,e,a])=>{this.assets=s+e,console.log("assets = ",this.assets,"sumDeposit",a)})}getSumDeposites(){return this._AuthService.getSumDeposit().pipe((0,u.U)(s=>(this.sumDeposit=s.result.sumDeposite,this.sumDeposit)),(0,l.K)(s=>(console.log(s),(0,m.of)(0))))}getSumBalance(){this.calculateAssets(),this._AuthService.getSumBalance().subscribe({next:s=>{console.log(s),this.sumBalance=s.result.sumBalanceCustomers,this.sumCommission=s.result.sumCommission,this.sumCommissionPaied=s.result.sumCommissionPaied,this.paymentAmount=+s.result.totalPayment,this.totalProfie=s.result.totalProfit,this.total_price_without_profite=s.result.total_price_without_profite,console.log("sumBalance ,sumCommission , totalProfie = ",s),this._OwnerService.getCapitalAndOwnerDrawing().subscribe({next:e=>{this.sumDrawing=e.result.drowingSum,this.sumCapital=e.result.investSum,console.log(e),this._TransactionsService.getExpensesSum().subscribe({next:a=>{console.log("expensesSum ",a.expensesSum),this.expenses=a.expensesSum,this.cash=this.paymentAmount+this.sumDeposit+this.sumCapital-(this.sumDrawing+this.expenses+this.total_price_without_profite+this.sumBalanceSupplier+this.sumBanksBalance+this.sumCommissionPaied)},error:a=>{console.log(a)}})},error:e=>{console.log(e)}})}})}}return n.\u0275fac=function(s){return new(s||n)(t.Y36(d.G),t.Y36(g.h),t.Y36(f.e),t.Y36(A.T),t.Y36(Z.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-show-balance-sheat"]],decls:113,vars:54,consts:[[1,"container"],[1,"row","my-3","mx-0"],[1,"col-12","header-container"],[1,"text-info"],[1,"row"],[1,"col-12"],[1,"table","table-bordered",2,"min-width","670px"],[1,"thead-dark"],["scope","col","colspan","2",1,"text-center"],[4,"ngFor","ngForOf"],["scope","row"],[1,"table-borderless","w-100"],[1,"d-flex","justify-content-between"],[2,"padding-left","0px !important"],[1,"bg-dark","font-weight-bolder","text-info"],[2,"border-right","2px solid #fff"],["scope","col","colspan","2",1,"text-center","bg-dark","text-white"],["scope","row",1,"co"],[1,"table","table-borderless","text-center"],[2,"border-bottom","2px solid #000","font-weight","600"],[1,""],["scope","row","colspan","2",1,"text-center","font-weight-bolder",2,"font-size","24px"],["scope","row",1,"w-50"]],template:function(s,e){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),t._uU(4,"Balance sheet"),t.qZA()()(),t.TgZ(5,"div",4)(6,"div",5)(7,"table",6)(8,"thead",7)(9,"tr")(10,"th",8),t._uU(11,"Assets"),t.qZA()()(),t.TgZ(12,"tbody"),t.YNc(13,C,6,5,"tr",9),t.TgZ(14,"tr")(15,"td",10),t._uU(16,"Cash"),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.ALo(19,"currency"),t.qZA()(),t.YNc(20,b,6,5,"tr",9),t.TgZ(21,"tr")(22,"td",10),t._uU(23,"Debtors"),t.qZA(),t.TgZ(24,"td")(25,"table",11)(26,"tr",12)(27,"td",13),t._uU(28),t.ALo(29,"currency"),t.qZA(),t.TgZ(30,"div",14)(31,"td",15),t._uU(32,"Total"),t.qZA(),t.TgZ(33,"td"),t._uU(34),t.ALo(35,"currency"),t.qZA()()()()()(),t.TgZ(36,"th",16),t._uU(37,"Liabilities"),t.qZA(),t.TgZ(38,"tr")(39,"td",10),t._uU(40,"Creditors"),t.qZA(),t.TgZ(41,"td"),t._uU(42),t.ALo(43,"currency"),t.qZA()(),t.TgZ(44,"tr")(45,"td",10),t._uU(46,"Commission "),t.qZA(),t.TgZ(47,"td")(48,"table",11)(49,"tr",12)(50,"td",13),t._uU(51),t.ALo(52,"currency"),t.qZA(),t.TgZ(53,"div",14)(54,"td",15),t._uU(55,"Total"),t.qZA(),t.TgZ(56,"td"),t._uU(57),t.ALo(58,"currency"),t.qZA()()()()()(),t.TgZ(59,"th",16),t._uU(60,"Owner Equity"),t.qZA(),t.TgZ(61,"tr")(62,"td",10),t._uU(63,"Capital"),t.qZA(),t.TgZ(64,"td"),t._uU(65),t.ALo(66,"currency"),t.qZA()(),t.TgZ(67,"tr")(68,"td",10),t._uU(69,"Owner Drawings "),t.qZA(),t.TgZ(70,"td"),t._uU(71),t.ALo(72,"currency"),t.qZA()(),t.TgZ(73,"tr")(74,"td",10),t._uU(75,"Net Profite"),t.qZA(),t.TgZ(76,"td")(77,"table",11)(78,"tr",12)(79,"td",13),t._uU(80),t.ALo(81,"currency"),t.qZA(),t.TgZ(82,"div",14)(83,"td",15),t._uU(84,"Total"),t.qZA(),t.TgZ(85,"td"),t._uU(86),t.ALo(87,"currency"),t.qZA()()()()()(),t.TgZ(88,"th",16),t._uU(89,"Basic Account Equations"),t.qZA(),t.TgZ(90,"tr")(91,"td",17),t._uU(92,"Equal Accounts"),t.qZA(),t.TgZ(93,"td")(94,"table",18)(95,"tr",19)(96,"td"),t._uU(97,"Assets"),t.qZA(),t.TgZ(98,"td"),t._uU(99,"Sum( Liabilities&&Owner Equity ) "),t.qZA()(),t.TgZ(100,"tr",20)(101,"td"),t._uU(102),t.ALo(103,"currency"),t.qZA(),t.TgZ(104,"td"),t._uU(105),t.ALo(106,"currency"),t.qZA()()()()(),t.TgZ(107,"th",16),t._uU(108,"Correct Mistakes"),t.qZA(),t.TgZ(109,"tr")(110,"td",21),t._uU(111),t.ALo(112,"currency"),t.qZA()()()()()()()),2&s&&(t.xp6(13),t.Q6J("ngForOf",e.banks),t.xp6(5),t.Oqu(t.xi3(19,15,e.cash," AED ")),t.xp6(2),t.Q6J("ngForOf",e.suppliers),t.xp6(8),t.Oqu(t.xi3(29,18,e.sumBalance," AED ")),t.xp6(6),t.Oqu(t.xi3(35,21,e.assets+e.sumBalance+e.cash," AED ")),t.xp6(8),t.Oqu(t.xi3(43,24,e.sumDeposit," AED ")),t.xp6(9),t.Oqu(t.xi3(52,27,e.sumCommission," AED ")),t.xp6(6),t.Oqu(t.xi3(58,30,e.sumCommission+e.sumDeposit," AED ")),t.xp6(8),t.Oqu(t.xi3(66,33,e.sumCapital," AED ")),t.xp6(6),t.Oqu(t.xi3(72,36,e.sumDrawing," AED ")),t.xp6(9),t.Oqu(t.xi3(81,39,e.totalProfie-e.expenses-e.sumCommissionPaied-e.sumCommission," AED ")),t.xp6(6),t.Oqu(t.xi3(87,42,e.totalProfie-e.expenses-e.sumCommissionPaied-e.sumCommission+e.sumCapital-e.sumDrawing," AED ")),t.xp6(16),t.Oqu(t.xi3(103,45,e.assets+e.sumBalance+e.cash," AED ")),t.xp6(3),t.hij("",t.xi3(106,48,e.sumCommission+e.sumDeposit+e.totalProfie-e.expenses-e.sumCommissionPaied-e.sumCommission+e.sumCapital-e.sumDrawing," AED ")," "),t.xp6(6),t.Oqu(t.xi3(112,51,e.assets+e.cash+e.sumBalance-(e.sumCommission+e.sumDeposit+e.totalProfie-e.expenses-e.sumCommissionPaied-e.sumCommission+e.sumCapital-e.sumDrawing)," AED ")))},dependencies:[r.sg,r.H9],styles:["button[_ngcontent-%COMP%]{color:#fff;margin:0 5px}button.addTask[_ngcontent-%COMP%]{background-color:#63e38a!important;color:#fff;padding:2px 23px;font-size:20px}[_nghost-%COMP%]     table thead{background-color:#7e807e!important}[_nghost-%COMP%]     table thead .mat-header-cell{color:#fff}button[_ngcontent-%COMP%]{transition:all .4s;border-radius:13px}button[_ngcontent-%COMP%]:hover{border-radius:30px}.hhover[_ngcontent-%COMP%]:hover{color:#fff!important}th[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.mat-elevation-z8[_ngcontent-%COMP%]{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.mat-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{padding:0!important}[_nghost-%COMP%]     .mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:141px}[_nghost-%COMP%]     .mat-form-field-label-wrapper{position:absolute;left:12px;z-index:1000;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[_nghost-%COMP%]     input.mat-input-element{margin-top:-.0625em;height:38px}[_nghost-%COMP%]     .mat-form-field-infix{padding:0!important}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;inset:.25em 0 0;pointer-events:none;height:53px}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.45rem;vertical-align:top}table[_ngcontent-%COMP%]{padding:.15rem;vertical-align:top}.header-container[_ngcontent-%COMP%]{padding:15px;color:#333;border-bottom:1px solid #ccc}.header-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.header-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}"]}),n})()}];let x=(()=>{class n{}return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[h.Bz.forChild(S),h.Bz]}),n})(),O=(()=>{class n{}return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[r.ez,x]}),n})()}}]);