"use strict";(self.webpackChunkuser=self.webpackChunkuser||[]).push([[91],{5493:(C,y,n)=>{n.d(y,{X:()=>O});var r=n(5938),o=n(4650),Z=n(5076),v=n(7185),u=n(9298),g=n(6895),t=n(4859),A=n(7392);function T(i,d){if(1&i){const l=o.EpF();o.TgZ(0,"button",12)(1,"mat-icon",13),o.NdJ("click",function(){o.CHM(l);const e=o.oxw();return o.KtG(e.dialog.close(!0))}),o._uU(2,"close"),o.qZA()()}}function f(i,d){if(1&i&&(o.ynx(0),o.TgZ(1,"td",16),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.ALo(5,"currency"),o.qZA(),o.BQk()),2&i){const l=o.oxw().$implicit;o.xp6(2),o.Oqu(null==l?null:l.name),o.xp6(2),o.Oqu(o.xi3(5,2,null==l?null:l.deposite," AED "))}}function S(i,d){if(1&i&&(o.TgZ(0,"tr",15),o.YNc(1,f,6,5,"ng-container",11),o.qZA()),2&i){const l=d.$implicit;o.xp6(1),o.Q6J("ngIf",0!==(null==l?null:l.deposite))}}function D(i,d){if(1&i&&(o.TgZ(0,"tbody"),o.YNc(1,S,2,1,"tr",14),o.qZA()),2&i){const l=o.oxw();o.xp6(1),o.Q6J("ngForOf",l.listDepts)}}let O=(()=>{class i{constructor(l,m,e,c,a,s){this._TransactionsService=l,this.toaster=m,this.dialog=e,this.dialogpublic=c,this._AuthService=a,this.data=s,this.listDeptors=[],this.listDepts=[],this.getSumDeposites(),console.log("tesssssssssssssssssssssssssssssssssssssssssssssssssssssssssssst")}ngOnInit(){console.log("data = ",this.data)}getSumBalance(){this._TransactionsService.getSumBalance().subscribe({next:l=>{console.log("balanceee = ",l),this.listDeptors=l?.result?.sumBalance,this.totalBalance=this.listDeptors.reduce((m=0,e)=>m+e.total_balance,0),this.toaster.success("success get Deptors","success")},error:l=>{console.log(l)}})}getSumDeposites(){console.log("test getSumDeposites"),this._AuthService.getSumDeposit().subscribe({next:l=>{console.log("res getSumDeposites",l),this.sumDeposit=l.result.sumDeposite,this.sumBalance=l.result.sumBalance,this.listDepts=l.result.listDeptors}})}}return i.\u0275fac=function(l){return new(l||i)(o.Y36(Z.v),o.Y36(v._W),o.Y36(r.so),o.Y36(r.uw),o.Y36(u.e),o.Y36(r.WI))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-debtor"]],decls:19,vars:6,consts:[[1,"container"],[1,"row","my-3"],[1,"col-12","header-container"],[1,"header","d-flex","justify-content-between"],[1,"text-info"],["mat-flat-button","","class","text-danger",4,"ngIf"],[1,"font-italic","font-weight-bold"],[1,"row"],[1,"table","table-bordered","table-hover",2,"min-width","670px"],[1,"thead-dark"],["scope","col",1,"text-center"],[4,"ngIf"],["mat-flat-button","",1,"text-danger"],[3,"click"],["class","text-center",4,"ngFor","ngForOf"],[1,"text-center"],["scope","row",1,"w-50"]],template:function(l,m){1&l&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),o._uU(5,"Deptors"),o.qZA(),o.YNc(6,T,3,0,"button",5),o.qZA(),o.TgZ(7,"p",6),o._uU(8),o.ALo(9,"currency"),o.qZA()()(),o.TgZ(10,"div",7)(11,"table",8)(12,"thead",9)(13,"tr")(14,"th",10),o._uU(15,"Customer Name"),o.qZA(),o.TgZ(16,"th",10),o._uU(17,"Amount"),o.qZA()()(),o.YNc(18,D,2,1,"tbody",11),o.qZA()()()),2&l&&(o.xp6(6),o.Q6J("ngIf",m.data),o.xp6(2),o.hij("Total Depts: ",o.xi3(9,3,m.sumBalance," AED "),""),o.xp6(10),o.Q6J("ngIf",m.listDepts.length))},dependencies:[g.sg,g.O5,t.lW,A.Hw,g.H9],styles:[".header-container[_ngcontent-%COMP%]{padding:15px;color:#333;border-bottom:1px solid #ccc}.header-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.header-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}"]}),i})()},3091:(C,y,n)=>{n.r(y),n.d(y,{DashboardModule:()=>m});var r=n(6895),o=n(9299),Z=n(5493),v=n(4004),u=n(262),g=n(9646),t=n(4650),A=n(5076),T=n(5938),f=n(9298);const D=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:(()=>{class e{constructor(a,s,p){this._TransactionsService=a,this.dialog=s,this._AuthService=p,this.detailsProfite={},this.count=0,this.detailsProfiteMonthly={},this.countMonthly=0,this.amountCash=0,this.dateToday=new Date,this.listDepts=[];var h=new Date;h.setUTCHours(0,0,0,0);var M=new Date;M.setUTCHours(23,59,59,999),this.filteration={date:!0,startedDate:h.toISOString(),endDate:M.toISOString()}}ngOnInit(){this.getAllTransactions(),this.gettingCash()}getAllTransactions(){this.filteration.offset=this.filteration.offset>0?this.filteration.offset-1:0,this._TransactionsService.getSummary(this.filteration).subscribe({next:a=>{console.log("daily",a),this.dailySummary=a,this.getAllTransactionsMonthly()},error:a=>{console.log(a)}})}startOfMonth(a){return new Date(a.getFullYear(),a.getMonth(),1)}getAllTransactionsMonthly(){let a=new Date,s=this.startOfMonth(a).toISOString();var p=new Date;p.setUTCHours(23,59,59,999),this.filteration={date:!0,startedDate:s,endDate:p.toISOString()},this.filteration.offset=this.filteration.offset>0?this.filteration.offset-1:0,this._TransactionsService.getSummary(this.filteration).subscribe({next:h=>{console.log("monthly",h),this.monthlySummary=h,this.getSumBalance()},error:h=>{console.log(h)}})}getSumBalance(){this._TransactionsService.getSumBalance().subscribe({next:a=>{console.log(a);let s=a?.result?.sumBalance;this.totalBalance=s.reduce((p=0,h)=>p+h.total_balance,0),console.log(s,this.totalBalance)},error:a=>{console.log(a)}})}showAllDeptors(){this.dialog.open(Z.X,{width:"60%",disableClose:!0,data:!0,maxHeight:"90vh"}).afterClosed().subscribe(s=>{})}gettingCash(){this._TransactionsService.getCash().subscribe({next:a=>{console.log(a),this.amountCash=a.result.cash},error:a=>{console.log(a)}})}getSumDeposites(){return this._AuthService.getSumDeposit().pipe((0,v.U)(a=>(console.log("resssssss ",a),this.sumDeposit=a.result.sumDeposite,this.sumBalance=a.result.sumBalance,this.listDepts=a.result.listDeptors,this.sumDeposit)),(0,u.K)(a=>(console.log(a),(0,g.of)(0))))}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(A.v),t.Y36(T.uw),t.Y36(f.e))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-home-dashboard"]],decls:188,vars:83,consts:[[1,"container"],[1,"row","my-3"],[1,"text-info"],[1,"row","my-2"],[1,"col-md-6","col-12","col-xl-4"],[1,"card","comp-card"],[1,"card-body"],[1,"row","align-items-center"],[1,"col"],[1,"m-b-25"],[1,"f-w-700","text-c-blue"],[1,"m-b-0"],[1,"col-auto"],[1,"fas","fa-eye","bg-c-blue"],[1,"f-w-700","text-c-green"],[1,"fas","fa-bullseye","bg-c-green"],[1,"f-w-700","text-c-yellow"],[1,"fas","fa-hand-paper","bg-c-yellow"],[1,"fas","fa-hashtag","bg-c-blue"],[1,"card-body",3,"click"]],template:function(a,s){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3,"Summary Of Day"),t.qZA()(),t.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"h6",9),t._uU(11),t.qZA(),t.TgZ(12,"h3",10),t._uU(13),t.ALo(14,"currency"),t.qZA(),t.TgZ(15,"p",11),t._uU(16),t.ALo(17,"date"),t.qZA()(),t.TgZ(18,"div",12),t._UZ(19,"i",13),t.qZA()()()()(),t.TgZ(20,"div",4)(21,"div",5)(22,"div",6)(23,"div",7)(24,"div",8)(25,"h6",9),t._uU(26,"Total Balance"),t.qZA(),t.TgZ(27,"h3",14),t._uU(28),t.ALo(29,"currency"),t.qZA(),t.TgZ(30,"p",11),t._uU(31),t.ALo(32,"date"),t.qZA()(),t.TgZ(33,"div",12),t._UZ(34,"i",15),t.qZA()()()()(),t.TgZ(35,"div",4)(36,"div",5)(37,"div",6)(38,"div",7)(39,"div",8)(40,"h6",9),t._uU(41,"Total Payment Amount"),t.qZA(),t.TgZ(42,"h3",16),t._uU(43),t.ALo(44,"currency"),t.qZA(),t.TgZ(45,"p",11),t._uU(46),t.ALo(47,"date"),t.qZA()(),t.TgZ(48,"div",12),t._UZ(49,"i",17),t.qZA()()()()(),t.TgZ(50,"div",4)(51,"div",5)(52,"div",6)(53,"div",7)(54,"div",8)(55,"h6",9),t._uU(56,"Numbers of Transactions"),t.qZA(),t.TgZ(57,"h3",10),t._uU(58),t.qZA(),t.TgZ(59,"p",11),t._uU(60),t.ALo(61,"date"),t.qZA()(),t.TgZ(62,"div",12),t._UZ(63,"i",18),t.qZA()()()()(),t.TgZ(64,"div",4)(65,"div",5)(66,"div",6)(67,"div",7)(68,"div",8)(69,"h6",9),t._uU(70,"Total Supply"),t.qZA(),t.TgZ(71,"h3",10),t._uU(72),t.ALo(73,"currency"),t.qZA(),t.TgZ(74,"p",11),t._uU(75),t.ALo(76,"date"),t.qZA()(),t.TgZ(77,"div",12),t._UZ(78,"i",13),t.qZA()()()()(),t.TgZ(79,"div",4)(80,"div",5)(81,"div",6)(82,"div",7)(83,"div",8)(84,"h6",9),t._uU(85,"Total Expenses"),t.qZA(),t.TgZ(86,"h3",14),t._uU(87),t.ALo(88,"currency"),t.qZA(),t.TgZ(89,"p",11),t._uU(90),t.ALo(91,"date"),t.qZA()(),t.TgZ(92,"div",12),t._UZ(93,"i",15),t.qZA()()()()()(),t.TgZ(94,"div",1)(95,"h3",2),t._uU(96,"Summary Of Month"),t.qZA()(),t.TgZ(97,"div",3)(98,"div",4)(99,"div",5)(100,"div",6)(101,"div",7)(102,"div",8)(103,"h6",9),t._uU(104),t.qZA(),t.TgZ(105,"h3",10),t._uU(106),t.ALo(107,"currency"),t.qZA(),t.TgZ(108,"p",11),t._uU(109),t.ALo(110,"date"),t.qZA()(),t.TgZ(111,"div",12),t._UZ(112,"i",13),t.qZA()()()()(),t.TgZ(113,"div",4)(114,"div",5)(115,"div",6)(116,"div",7)(117,"div",8)(118,"h6",9),t._uU(119,"Total Customer Deposit"),t.qZA(),t.TgZ(120,"h3",16),t._uU(121),t.ALo(122,"currency"),t.qZA(),t.TgZ(123,"p",11),t._uU(124),t.ALo(125,"date"),t.qZA()(),t.TgZ(126,"div",12),t._UZ(127,"i",17),t.qZA()()()()(),t.TgZ(128,"div",4)(129,"div",5)(130,"div",19),t.NdJ("click",function(){return s.showAllDeptors()}),t.TgZ(131,"div",7)(132,"div",8)(133,"h6",9),t._uU(134,"Total Balance"),t.qZA(),t.TgZ(135,"h3",10),t._uU(136),t.ALo(137,"currency"),t.qZA(),t.TgZ(138,"p",11),t._uU(139),t.ALo(140,"date"),t.qZA()(),t.TgZ(141,"div",12),t._UZ(142,"i",18),t.qZA()()()()(),t.TgZ(143,"div",4)(144,"div",5)(145,"div",6)(146,"div",7)(147,"div",8)(148,"h6",9),t._uU(149,"Total Supply"),t.qZA(),t.TgZ(150,"h3",10),t._uU(151),t.ALo(152,"currency"),t.qZA(),t.TgZ(153,"p",11),t._uU(154),t.ALo(155,"date"),t.qZA()(),t.TgZ(156,"div",12),t._UZ(157,"i",13),t.qZA()()()()(),t.TgZ(158,"div",4)(159,"div",5)(160,"div",6)(161,"div",7)(162,"div",8)(163,"h6",9),t._uU(164,"Total Expenses"),t.qZA(),t.TgZ(165,"h3",14),t._uU(166),t.ALo(167,"currency"),t.qZA(),t.TgZ(168,"p",11),t._uU(169),t.ALo(170,"date"),t.qZA()(),t.TgZ(171,"div",12),t._UZ(172,"i",15),t.qZA()()()()(),t.TgZ(173,"div",4)(174,"div",5)(175,"div",6)(176,"div",7)(177,"div",8)(178,"h6",9),t._uU(179,"Total Cash"),t.qZA(),t.TgZ(180,"h3",14),t._uU(181),t.ALo(182,"currency"),t.qZA(),t.TgZ(183,"p",11),t._uU(184),t.ALo(185,"date"),t.qZA()(),t.TgZ(186,"div",12),t._UZ(187,"i",15),t.qZA()()()()()()()),2&a&&(t.xp6(11),t.hij("Total Profite "," ( Gross )",""),t.xp6(2),t.Oqu(t.xi3(14,26,(null==s.dailySummary||null==s.dailySummary.summary?null:s.dailySummary.summary.total_profite_gross)-(null==s.dailySummary||null==s.dailySummary.summary?null:s.dailySummary.summary.commission)||0," AED ")),t.xp6(3),t.Oqu(t.lcZ(17,29,s.dateToday)),t.xp6(12),t.Oqu(t.xi3(29,31,(null==s.dailySummary||null==s.dailySummary.summary?null:s.dailySummary.summary.balanceDue)||0," AED ")),t.xp6(3),t.Oqu(t.lcZ(32,34,s.dateToday)),t.xp6(12),t.Oqu(t.xi3(44,36,(null==s.dailySummary||null==s.dailySummary.summary?null:s.dailySummary.summary.paymentAmount)||0," AED ")),t.xp6(3),t.Oqu(t.lcZ(47,39,s.dateToday)),t.xp6(12),t.Oqu((null==s.dailySummary||null==s.dailySummary.summary?null:s.dailySummary.summary.count)||0),t.xp6(2),t.Oqu(t.lcZ(61,41,s.dateToday)),t.xp6(12),t.Oqu(t.xi3(73,43,(null==s.dailySummary||null==s.dailySummary.summary?null:s.dailySummary.summary.sumSupply)||0," AED ")),t.xp6(3),t.Oqu(t.lcZ(76,46,s.dateToday)),t.xp6(12),t.Oqu(t.xi3(88,48,(null==s.dailySummary||null==s.dailySummary.summary?null:s.dailySummary.summary.sumExpenses)||0," AED ")),t.xp6(3),t.Oqu(t.lcZ(91,51,s.dateToday)),t.xp6(14),t.hij("Total Profite "," ( Gross )",""),t.xp6(2),t.Oqu(t.xi3(107,53,(null==s.monthlySummary||null==s.monthlySummary.summary?null:s.monthlySummary.summary.total_profite_gross)||0," AED ")),t.xp6(3),t.Oqu(t.lcZ(110,56,s.dateToday)),t.xp6(12),t.Oqu(t.xi3(122,58,(null==s.monthlySummary||null==s.monthlySummary.summary?null:s.monthlySummary.summary.totalDeposit)||0," AED ")),t.xp6(3),t.Oqu(t.lcZ(125,61,s.dateToday)),t.xp6(12),t.Oqu(t.xi3(137,63,s.totalBalance||0," AED ")),t.xp6(3),t.Oqu(t.lcZ(140,66,s.dateToday)),t.xp6(12),t.Oqu(t.xi3(152,68,(null==s.monthlySummary||null==s.monthlySummary.summary?null:s.monthlySummary.summary.sumSupply)||0," AED ")),t.xp6(3),t.Oqu(t.lcZ(155,71,s.dateToday)),t.xp6(12),t.Oqu(t.xi3(167,73,(null==s.monthlySummary||null==s.monthlySummary.summary?null:s.monthlySummary.summary.sumExpenses)||0," AED ")),t.xp6(3),t.Oqu(t.lcZ(170,76,s.dateToday)),t.xp6(12),t.Oqu(t.xi3(182,78,s.amountCash," AED ")),t.xp6(3),t.Oqu(t.lcZ(185,81,s.dateToday)))},dependencies:[r.H9,r.uU],styles:[".card[_ngcontent-%COMP%]{border-radius:5px;box-shadow:0 0 5px #2b2b2b1a,0 11px 6px -7px #2b2b2b1a;border:none;margin-bottom:30px;transition:all .3s ease-in-out;position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box}.card-body[_ngcontent-%COMP%]{flex:1 1 auto;padding:1.25rem}.col[_ngcontent-%COMP%]{flex-basis:0;flex-grow:1;max-width:100%}.m-b-25[_ngcontent-%COMP%]{margin-bottom:25px}h6[_ngcontent-%COMP%]{font-size:16px}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-weight:500;font-family:quicksand,sans-serif}.text-c-blue[_ngcontent-%COMP%]{color:#4099ff}.f-w-700[_ngcontent-%COMP%]{font-weight:700}h3[_ngcontent-%COMP%]{font-size:24px}.m-b-0[_ngcontent-%COMP%]{margin-bottom:0}p[_ngcontent-%COMP%]{font-size:14px}.comp-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;width:50px;height:50px;border-radius:5px;text-align:center;padding:17px;font-size:18px;text-shadow:0 6px 8px rgba(62,57,107,.18);transition:all .3s ease-in-out}.bg-c-blue[_ngcontent-%COMP%]{background:#4099ff}.fa[_ngcontent-%COMP%], .fas[_ngcontent-%COMP%]{font-weight:900}.text-c-green[_ngcontent-%COMP%]{color:#2ed8b6}.text-c-yellow[_ngcontent-%COMP%]{color:#ffb64d}.comp-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;width:50px;height:50px;border-radius:5px;text-align:center;padding:17px 0;font-size:18px;text-shadow:0 6px 8px rgba(62,57,107,.18);transition:all .3s ease-in-out}.card-body[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{border-radius:50%}.bg-c-yellow[_ngcontent-%COMP%]{background:#ffb64d}.bg-c-green[_ngcontent-%COMP%]{background:#2ed8b6}"]}),e})()},{path:"transactions",loadChildren:()=>Promise.all([n.e(578),n.e(592),n.e(270)]).then(n.bind(n,2270)).then(e=>e.TransactionsModule)},{path:"services",loadChildren:()=>Promise.all([n.e(578),n.e(592),n.e(83)]).then(n.bind(n,83)).then(e=>e.ServiceModule)},{path:"customers",loadChildren:()=>Promise.all([n.e(578),n.e(592),n.e(664)]).then(n.bind(n,8664)).then(e=>e.CustomerModule)},{path:"reminders",loadChildren:()=>Promise.all([n.e(578),n.e(592),n.e(519)]).then(n.bind(n,3519)).then(e=>e.ReminderModule)},{path:"transactionAccount",loadChildren:()=>Promise.all([n.e(578),n.e(592),n.e(290)]).then(n.bind(n,5290)).then(e=>e.TransactionAccountModule)},{path:"banks",loadChildren:()=>Promise.all([n.e(578),n.e(592),n.e(411)]).then(n.bind(n,411)).then(e=>e.BanksModule)},{path:"sppliers",loadChildren:()=>Promise.all([n.e(592),n.e(699)]).then(n.bind(n,2699)).then(e=>e.SuppliersModule)},{path:"owners",loadChildren:()=>Promise.all([n.e(592),n.e(248)]).then(n.bind(n,248)).then(e=>e.OwnersModule)},{path:"accountant",loadChildren:()=>Promise.all([n.e(592),n.e(782)]).then(n.bind(n,1782)).then(e=>e.AccountantModule)}];let O=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[o.Bz.forChild(D),o.Bz]}),e})();var i=n(805),d=n(4006),l=n(1941);let m=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[r.ez,O,i.m8,d.UX,d.u5,l.q]}),e})()},5076:(C,y,n)=>{n.d(y,{v:()=>v});var r=n(2340),o=n(4650),Z=n(529);let v=(()=>{class u{constructor(t){this.http=t,this.baseURL=r.N.baseApi}getAllTransactions(t){return this.http.post(`${this.baseURL}allTransactions`,t)}addTransaction(t){return this.http.post(`${this.baseURL}addTransaction`,t)}deleteTransaction(t){return this.http.patch(`${this.baseURL}deleteTransactionSoft/${t}`,{})}updateTransaction(t,A){return this.http.put(`${this.baseURL}updateTransaction/${t}`,A)}getSummary(t){return this.http.post(`${r.N.baseApi}getTransactionsSummary`,t)}getAllBankAccount(){return this.http.get(`${r.N.baseApi}getAllBankAccount`)}getAllsuppliers(){return this.http.get(`${r.N.baseApi}allsupplier`)}addDipostHistory(t){return this.http.post(`${r.N.baseApi}addDepositHistory`,t)}getExpensesSum(){return this.http.get(`${r.N.baseApi}getExpensesSum`)}getSumBalance(){return this.http.get(`${r.N.baseApi}sumBalance`)}getCash(){return this.http.get(`${r.N.baseApi}cash`)}}return u.\u0275fac=function(t){return new(t||u)(o.LFG(Z.eN))},u.\u0275prov=o.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()}}]);